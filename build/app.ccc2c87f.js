!function(e){function t(t){for(var r,a,c=t[0],l=t[1],u=t[2],f=0,h=[];f<c.length;f++)a=c[f],o[a]&&h.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(s&&s(t);h.length;)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var l=n[c];0!==o[l]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=l;i.push([147,1]),n()}({147:function(e,t,n){e.exports=n(291)},289:function(e,t,n){},291:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(145),a=n.n(i),c=(n(6),n(13),n(22),n(1),n(2),n(31),n(84),n(162),n(33)),l=n.n(c),u=n(95),s=n(34),f=(n(290),n(10));function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=.4,b=12,w=Math.PI/b,g=.1,S=.1;function x(e,t,n,r){var o=r*Math.cos(e),i=r*Math.sin(e);return{x:t*Math.cos(e)*Math.pow(Math.E,n*e)+o,y:t*Math.sin(e)*Math.pow(Math.E,n*e)+i}}var k=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=m(this,(e=y(t)).call.apply(e,[this].concat(o)))).frame=0,n.recomputeWindow=function(){return n.setState({width:window.innerWidth*v})},n.state={width:window.innerWidth*v,a:g,b:S,angle:0,indexFrame:0,distance:0},n.passed=!1,n.updateFrame=function(){var e=n.state,t=e.a,r=e.b,o=e.angle,i=e.initX,a=e.initY,c=e.indexFrame,l=e.distance,u=w+o,s=Math.floor(c/b),f=c%b===0,h=x(u,t,r,0),p=h.x,m=h.y,y=f?s*Math.sqrt(Math.pow(i-p,2)+Math.pow(a-m,2)):l;n.setState({x:p,y:m,angle:u,indexFrame:c+1,distance:y})},n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.recomputeWindow);var e=this.state,t=e.a,n=e.b,r=x(e.angle,t,n,0),o=r.x,i=r.y;this.frame=setInterval(this.updateFrame,16),this.setState({x:o,y:i,initX:o,initY:i})}},{key:"componendWillUnmount",value:function(){clearInterval(this.frame)}},{key:"render",value:function(){var e=this.state,t=e.x,n=e.y,r=e.width,i=Object(s.a)().domain([-10,10]).range([5,r-5]);return o.a.createElement(f.Stage,{width:r,height:r},o.a.createElement(f.Layer,null,o.a.createElement(f.Circle,{x:i(t),y:i(n),radius:5,fill:"red",opacity:.8})))}}])&&p(n.prototype,r),i&&p(n,i),t}(),M=(n(183),n(81),n(186),n(8),n(188),n(96)),O=n.n(M),E=n(146),j=n.n(E),P=n(97),_=n.n(P);function F(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function C(e,t){var n=e.x-t.x,r=e.y-t.y;return new X(n,r)}function N(e){return(N="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){return!t||"object"!==N(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t,n){return(W=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&z(o,n.prototype),o}).apply(null,arguments)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),e}var V=.4,B=2,q=1,U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;return Math.random()*(t-e+1)+e};function J(e,t){var n=Math.abs(t-e)%(2*Math.PI);return n>Math.PI?Math.PI-n:n}var X=function(){function e(t,n){R(this,e),this.x=t,this.y=n}return L(e,[{key:"normalize",value:function(){this.x=this.x/this.innerMagnitude,this.y=this.y/this.innerMagnitude}},{key:"multiply",value:function(e){this.x=this.x*e,this.y=this.y*e}},{key:"innerSub",value:function(e){this.x-=e.x,this.y-=e.y}},{key:"innerAdd",value:function(e){this.x+=e.x,this.y+=e.y}},{key:"limit",value:function(e){if(this.innerMagnitude>e){var t=e/this.innerMagnitude;this.multiply(t)}}},{key:"innerMagnitude",get:function(){return F(this)}}]),e}();var Y=function(){function e(t,n,r,o,i){R(this,e),this.velocity=W(X,A(t)),this.location=W(X,A(n)),this.acceleration=W(X,A(r)),this.maxSpeed=o,this.maxForce=i,this.initTarget=new X(100*Math.random(),100*Math.random())}return L(e,[{key:"update",value:function(){this.location.innerAdd(this.velocity),this.location.x<0?this.location.x=100+this.location.x:this.location.x>100&&(this.location.x=this.location.x-100),this.location.y<0?this.location.y=100+this.location.y:this.location.y>100&&(this.location.y=this.location.y-100),this.velocity.innerAdd(this.acceleration),this.acceleration.multiply(0)}},{key:"applyForce",value:function(e){this.acceleration.innerAdd(e)}},{key:"runFrom",value:function(e){var t=C(this.location,e),n=F(t);if(t.normalize(),n<.05){var r=n*this.maxSpeed;t.multiply(r)}else t.multiply(this.maxSpeed);var o=C(t,this.velocity);o.limit(this.maxForce),this.applyForce(o)}},{key:"seek",value:function(e){var t=C(e,this.location),n=F(t);if(t.normalize(),n<.05){var r=n*this.maxSpeed;t.multiply(r)}else t.multiply(this.maxSpeed);var o=C(t,this.velocity);o.limit(this.maxForce),this.applyForce(o)}},{key:"boundaries",value:function(){var e;if(this.location.x<5?e=new X(this.maxSpeed,this.velocity.y):this.location.x>95&&(e=new X(-this.maxspeed,this.velocity.y)),this.location.y<5?e=new X(this.velocity.x,this.maxSpeed):this.location.y>95&&(e=new X(this.velocity.x,-this.maxSpeed)),null!=e){e.normalize(),e.multiply(this.maxSpeed);var t=C(e,this.velocity);t.limit(this.maxForce),this.applyForce(t)}}},{key:"randomSeek",value:function(e){var t,n,r;if(Math.sqrt(Math.pow(this.location.x-this.initTarget.x,2),Math.pow(this.location.y-this.initTarget.y,2))<2){var o=j()(function(e,t){return e.map(function(e){var n=e.location.x-t.location.x,r=e.location.y-t.location.y,o=Math.atan2(r,n);return o<0?2*Math.PI+o:o}).filter(function(e){return!Number.isNaN(e)})}(e,this)),i=o.map(function(e,t,n){return 0===t?J(n[t],n[n.length])||0:J(n[t],n[t-1])}),a=i.reduce(function(e,t,n,r){return t>r[e]?n:e},0),c=0!==a?_()([o[a-1],o[a]]):_()([Math.PI-o[o.length],o[a]]),l=(2*Math.random()-1)*Math.PI/24,u=(t=c+l,n=O()(Math.cos(t)*Math.random()*100,10,90),r=O()(Math.sin(t)*Math.random()*100,10,90),new X(n,r));this.initTarget=u,this.seek(this.initTarget)}else this.seek(this.initTarget)}},{key:"randomMovement",value:function(){var e=new X(100*Math.random(),100*Math.random());e.multiply(this.maxSpeed);var t=C(e,this.velocity);t.limit(this.maxForce),this.applyForce(t)}}]),e}();function H(e){return(H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return!t||"object"!==H(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $=.4,ee=1,te=.5;function ne(e){return(ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return!t||"object"!==ne(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var le=["Boids Chase","Mice Problem","Mice Boids","Deselected"],ue={"Boids Chase":function(e){function t(){var e,n;R(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=I(this,(e=T(t)).call.apply(e,[this].concat(i)))).state={frame:0,width:window.innerWidth*V,runner:null,seekers:[],mousePosition:[50,50],interval:0},n.interval=0,n.stage=o.a.createRef(),n.recomputeWindow=function(){return n.setState({width:window.innerWidth*V})},n.randomSeeker=function(){return new Y([0,0],[100*Math.random(),100*Math.random()],[0,0],q*U(.05,.1),B*U(.05,.1))},n.appendRandomSeeker=function(){var e=n.state.seekers,t=n.randomSeeker(),r=e.slice();r.push(t),n.setState({seekers:r})},n.updateFrame=function(){var e=n.state,t=e.runner,r=e.seekers,o=e.frame;r.forEach(function(e){e.seek(t.location),e.update()}),t.randomSeek(r),t.update(),n.setState({frame:o+1})},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,o.a.Component),L(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.recomputeWindow);var e=new Y([0,0],[50,50],[0,0],q,B),t=l()(10).map(function(e){return new Y([0,0],[100*Math.random(),100*Math.random()],[0,0],q*U(.05,.06),B*U(.05,.06))});this.setState({runner:e,seekers:t});var n=setInterval(this.updateFrame,15);this.setState({runner:e,seekers:t,frame:n})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.recomputeWindow),this.updateFrame(),clearInterval(this.interval)}},{key:"render",value:function(){var e=this.state,t=e.width,n=e.runner,r=e.seekers,i=Object(s.a)().domain([0,100]).range([0,t]);return n&&r.length&&o.a.createElement(f.Stage,{width:t,height:t,ref:this.stage,onClick:this.appendRandomSeeker},o.a.createElement(f.Layer,null,o.a.createElement(f.Circle,{x:i(n.location.x)||0,y:i(n.location.y)||0,radius:5,fill:"red",opacity:.8}),r.map(function(e,t){var n=i(e.location.x),r=i(e.location.y);if(n&&r)return o.a.createElement(f.Circle,{key:t,x:n,y:r,radius:5,fill:"blue",opacity:n&&r?.8:0})})))}}]),t}(),"Mice Problem":k,"Mice Boids":function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=K(this,(e=Q(t)).call.apply(e,[this].concat(i)))).state={frame:0,width:window.innerWidth*$,runner:null,seekers:[]},n.interval=0,n.stage=o.a.createRef(),n.recomputeWindow=function(){return n.setState({width:window.innerWidth*$})},n.recomputeSeekers=function(){var e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return l()(e).map(function(r,o){var i=o/e*2*Math.PI;return[t*Math.cos(i)+n,t*Math.sin(i)+n]})}(n.props.numberOfSeekers,50).map(function(e){return new Y([0,0],e,[0,0],te,ee)});n.setState({seekers:e})},n.updateFrame=function(){var e=n.state,t=e.seekers,r=e.frame;t.forEach(function(e,t,n){var r=0===t?n[n.length-1]:n[t-1];n[t].seek(r.location)}),t.forEach(function(e){return e.update()}),n.setState({frame:r+1})},n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.recomputeWindow),this.interval=setInterval(this.updateFrame,15),this.recomputeSeekers()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.recomputeWindow),clearInterval(this.interval)}},{key:"render",value:function(){var e=this.state,t=e.width,n=e.seekers,r=Object(s.a)().domain([0,100]).range([5,t-5]),i=.8/n.length;return 0!==n.length&&o.a.createElement(f.Stage,{width:t,height:t,ref:this.stage,onClick:this.appendRandomSeeker},o.a.createElement(f.Layer,null,n.map(function(e,t){var n=r(e.location.x),a=r(e.location.y),c=.2+i*t;if(n&&a)return o.a.createElement(f.Circle,{key:t,x:n,y:a,radius:5,fill:"blue",opacity:n&&a?c:0})})))}}])&&G(n.prototype,r),i&&G(n,i),t}()},se=function(e){var t=e.name,n=ce(e,["name"]);if(!t||"Deselected"===t)return o.a.createElement("div",{className:"selectAViz pa4"},"Select a viz");var r=ue[t];return o.a.createElement(r,n)},fe=function(e){var t=e.name,n=e.miceFn,r=e.miceValue;return o.a.createElement("div",{className:"selectAViz pa4"},t&&"Deselected"!==t?"Boids Chase"===t?o.a.createElement(o.a.Fragment,null,"A simple implementation of the boids alogrithm in the"," ",o.a.createElement("a",{href:"https://natureofcode.com/",target:"_blank",rel:"noopener noreferrer"},"Nature of Code")):"Mice Problem"===t?o.a.createElement(o.a.Fragment,null,"Hello mice"):o.a.createElement("div",null,o.a.createElement("div",null,"Looking for an equilibrium to the famouse"," ",o.a.createElement("a",{href:"http://mathworld.wolfram.com/MiceProblem.html",target:"_blank",rel:"noopener noreferrer"},"mice problem"),"."),o.a.createElement("div",{className:"mv3 flex-row flex w-100"},o.a.createElement(u.Select,{className:"w3 mh2",scrollable:!0,label:r},l()(2,1e3).map(function(e,t){return o.a.createElement("div",{key:t,className:"miceselect",onClick:n(e)},e)}))," ","mice follow chase each other in a clockwise manner.")):o.a.createElement(o.a.Fragment,null,"Read left"))},he=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=oe(this,(e=ie(t)).call.apply(e,[this].concat(o)))).state={selectedViz:"Deselected",selection:0,numberOfMice:4},n.changeSelection=function(e){return function(){n.setState({selectedViz:e,selection:n.state.selection+1})}},n.onDifferentMiceNumber=function(e){return function(){if(!Number.parseInt(e))return null;n.setState({numberOfMice:e})}},n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=this.state,n=t.selectedViz,r=(t.selection,t.numberOfMice);return o.a.createElement("div",null,o.a.createElement("div",{className:"section"},"This is a me"),o.a.createElement("div",{className:"section"},o.a.createElement("div",{className:"ba b-grey flex flex-row"},o.a.createElement(se,{name:n,numberOfSeekers:r||4,key:r}),o.a.createElement("div",{className:"w-50 bl b--darkgray pa2"},o.a.createElement(u.Select,{className:"bn select",label:n},le.map(function(t,n){return o.a.createElement("div",{key:n,className:"options",onClick:e.changeSelection(t)}," ",t," ")})),o.a.createElement(fe,{name:n,miceValue:r,miceFn:this.onDifferentMiceNumber})))),o.a.createElement("div",{className:"section"},"Viz"))}}])&&re(n.prototype,r),i&&re(n,i),t}();n(286),n(287),n(288),n(289);a.a.render(o.a.createElement(he,null),document.getElementById("root"))}});